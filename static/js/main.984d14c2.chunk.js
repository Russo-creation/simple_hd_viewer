(this.webpackJsonpsimple_hd_viewer=this.webpackJsonpsimple_hd_viewer||[]).push([[0],{40:function(e,t,a){e.exports=a.p+"static/media/room.a8f21fd9.zip"},48:function(e,t,a){e.exports=a.p+"static/media/cave_wall_1k.068c0259.hdr"},49:function(e,t,a){e.exports=a.p+"static/media/scratches.0f067bff.jpg"},51:function(e,t,a){e.exports=a(80)},55:function(e,t,a){},64:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(22),i=a.n(o),l=(a(55),a(2)),c=a(3),m=a(4),d=a(5),s=a(0),u=a(12),g=a(39),p=function(){return r.a.createElement("group",null,r.a.createElement("spotLight",{castShadow:!0,intensity:.2,angle:Math.PI/7,position:[2,15,2]}))},w=a(11),h=a(31),f=a(40),b=a.n(f),E=a(15),y=a(42),V=Object(E.c)(null,(function(e){return{onLoadingSceneFinish:function(){return e({type:"LoadingSceneFinished"})}}}))(r.a.memo((function(e){for(var t=Object(u.d)(y.a,e.path,(function(e){})).nodes,a=Object.keys(t),o=0;o<a.length;o++)"undefined"!==typeof t[a[o]].material&&(t[a[o]].material.side=s.FrontSide);return t.spiderweeb.material.transparent=!0,t.spiderweeb.material.depthWrite=!1,t.spiderweeb.material.side=s.DoubleSide,t.plant.children[0].material.transparent=!0,t.plant.children[0].material.depthWrite=!1,t.plant.children[1].material.transparent=!0,t.plant.children[1].material.depthWrite=!1,t.atlas.material.transparent=!0,t.atlas.material.depthWrite=!1,t.bottle.material.transparent=!0,t.bottle.material.opacity=.96,Object(n.useEffect)((function(){e.onLoadingSceneFinish()})),r.a.createElement(r.a.Fragment,null,r.a.createElement("mesh",{geometry:t.atlas.geometry,material:t.atlas.material}),r.a.createElement("mesh",{geometry:t.plant.children[0].geometry,material:t.plant.children[0].material}),r.a.createElement("mesh",{geometry:t.plant.children[1].geometry,material:t.plant.children[1].material}),r.a.createElement("mesh",{geometry:t.bottle.geometry,material:t.bottle.material}),r.a.createElement("mesh",{geometry:t.spiderweeb.geometry,material:t.spiderweeb.material}),r.a.createElement("mesh",{geometry:t.beam.geometry,material:t.beam.material}),r.a.createElement("mesh",{geometry:t.curtine.geometry,material:t.curtine.material}),r.a.createElement("mesh",{geometry:t.label.geometry,material:t.label.material}),r.a.createElement("mesh",{geometry:t.liquid.geometry,material:t.liquid.material}),r.a.createElement("mesh",{geometry:t.plug.geometry,material:t.plug.material}),r.a.createElement("mesh",{geometry:t.rust_steel.geometry,material:t.rust_steel.material}),r.a.createElement("mesh",{geometry:t.tweeter.geometry,material:t.tweeter.material}),r.a.createElement("mesh",{geometry:t.bulding.children[0].geometry,material:t.bulding.children[0].material}),r.a.createElement("mesh",{geometry:t.bulding.children[1].geometry,material:t.bulding.children[1].material}),r.a.createElement("mesh",{geometry:t.window.geometry,material:t.window.material}),r.a.createElement("mesh",{geometry:t.neckless.geometry,material:t.neckless.material}),r.a.createElement("mesh",{geometry:t.pistol_body.geometry,material:t.pistol_body.material}),r.a.createElement("mesh",{geometry:t.pistol_detals.geometry,material:t.pistol_detals.material}))}))),v=Object(E.c)((function(e){return{loadingTotalSize:e.loader.loadingTotalSize}}),(function(e){return{onLoadingSceneFinish:function(){return e({type:"LoadingSceneFinished"})},onLoadingProgress:function(t,a){return e({type:"LoadingSceneProgress",loadedSize:t,totalSize:a})}}}))(r.a.memo((function(e){var t=Object(n.useState)(),a=Object(w.a)(t,2),o=a[0],i=a[1];return Object(n.useEffect)((function(){h.a.install({THREE:s});var t=new h.a(b.a);t.on("progress",(function(t){e.onLoadingProgress(t.loaded,t.total)})),t.on("load",(function(e){i(t.extractAsBlobUrl("room.glb",""))})),t.load()}),[]),r.a.createElement("group",{rotation:[0,-Math.PI/2.7,0]},o?r.a.createElement(V,{path:o}):null)}))),O=a(47),j=a(48),S=a.n(j),z=function(){var e=Object(u.e)(),t=e.gl,a=e.scene,r=new s.PMREMGenerator(t),o=new O.a;return o.setDataType(s.UnsignedByteType),r.compileEquirectangularShader(),Object(n.useEffect)((function(){o.load(S.a,(function(e){var t=r.fromEquirectangular(e).texture;a.environment=t,a.background=t,e.dispose(),r.dispose()}))}),[a,o,r]),null},L=function(){var e=new s.CatmullRomCurve3([new s.Vector3(14.8652,32.9998,-6.49185),new s.Vector3(20.5216,32.5945,.813831),new s.Vector3(28.0619,29.3627,10.164),new s.Vector3(35.5669,22.6827,17.9216),new s.Vector3(40.4383,8.68989,26.5702),new s.Vector3(38.846,-4.75159,31.2569),new s.Vector3(30.5957,-17.0314,33.8244),new s.Vector3(12.8381,-26.4493,34.136),new s.Vector3(-6.2308,-33.0746,33.6699),new s.Vector3(-23.6964,-30.4207,14.815),new s.Vector3(-31.3026,-18.7443,-2.66945),new s.Vector3(-37.7269,-8.06838,-16.129),new s.Vector3(-37.9757,-3.55331,-20.4425),new s.Vector3(-35.7074,.913048,-21.3536),new s.Vector3(-31.7932,2.79949,-20.4053),new s.Vector3(-26.3579,1.50805,-15.3775),new s.Vector3(-25.6137,-8.53149,-6.55324),new s.Vector3(-22.2108,-20.1177,5.29171),new s.Vector3(-16.2342,-27.4076,14.8455),new s.Vector3(-2.90318,-27.267,24.4673),new s.Vector3(10.901,-18.2159,29.4572),new s.Vector3(20.2203,-8.18538,30.4379),new s.Vector3(26.2484,1.92549,29.1929),new s.Vector3(33.389,16.3355,26.843),new s.Vector3(36.9722,30.5457,25.2953),new s.Vector3(37.2334,38.6026,26.7072),new s.Vector3(32.1881,43.227,32.1869),new s.Vector3(22.9303,41.9171,35.0045),new s.Vector3(15.1208,33.3282,29.9932),new s.Vector3(6.95571,18.1453,13.5123),new s.Vector3(2.56212,8.33505,2.78985),new s.Vector3(.506925,1.68393,-4.81493),new s.Vector3(-2.22784,-7.67207,-14.7094),new s.Vector3(-1.64231,-13.6923,-22.6194),new s.Vector3(4.479,-15.3107,-29.2883),new s.Vector3(11.8091,-13.1197,-35.3387),new s.Vector3(20.3793,-7.65231,-37.1522),new s.Vector3(24.8359,3.34385,-37.7158),new s.Vector3(25.8896,15.3655,-35.0512),new s.Vector3(22.9722,25.7977,-29.5478),new s.Vector3(18.7697,33.3126,-21.4836),new s.Vector3(12.5446,39.243,-9.28498),new s.Vector3(7.66737,40.1148,4.45466),new s.Vector3(5.83371,37.6548,16.1551),new s.Vector3(2.24585,30.7398,26.6894),new s.Vector3(-1.90157,20.7995,34.1625),new s.Vector3(-5.93563,13.0682,38.2609),new s.Vector3(-9.65675,3.50126,41.8212),new s.Vector3(-15.7445,-7.50749,41.5798),new s.Vector3(-22.2725,-16.6806,36.5467),new s.Vector3(-27.2141,-21.6685,30.9927),new s.Vector3(-31.8197,-24.7596,19.8817),new s.Vector3(-32.7013,-22.3514,7.82813),new s.Vector3(-32.9423,-18.6717,-6.60217),new s.Vector3(-32.37,-14.2615,-16.5718),new s.Vector3(-30.5073,-10.5619,-23.8907),new s.Vector3(-27.5566,-5.68121,-30.0171),new s.Vector3(-23.1397,.21678,-34.9474),new s.Vector3(-17.2732,7.02165,-36.8397),new s.Vector3(-10.1218,16.0699,-33.4315),new s.Vector3(-1.08787,25.7007,-23.7841)]);return e.closed=!0,e},F=function(e,t,a){var n=1e3*t,r=Date.now()%n/n;a||(r=1-r);var o=e.parameters.path.getPointAt(r);return o.x+=-902.7987733512952,o.y+=150.8872503416854,o.z+=-705.830604006972,o.multiplyScalar(.001),o},P=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("mesh",null,r.a.createElement("sphereBufferGeometry",{attach:"geometry",args:[.001,6,6]}),r.a.createElement("meshLambertMaterial",{attach:"material",emissive:"#ff840b",color:"white",opacity:.6,transparent:!0})),r.a.createElement("pointLight",{intensity:.9,distance:.25,decay:2}))},T=function(){var e=new s.TubeBufferGeometry(L(),100,1,1,!0),t=Object(n.useRef)(),a=Object(n.useRef)(),o=Object(n.useRef)();return Object(u.c)((function(n,r){t.current.position.copy(F(e,20,!0)),a.current.position.copy(F(e,10,!0)),o.current.position.copy(F(e,15,!1))})),r.a.createElement(r.a.Fragment,null,r.a.createElement("group",{ref:t},r.a.createElement(P,null)),r.a.createElement("group",{ref:a},r.a.createElement(P,null)),r.a.createElement("group",{ref:o},r.a.createElement(P,null)))},k=a(20),x=a(16),C=a(13),M=a(49),_=a.n(M),R=C.i.prototype.load;function W(){var e=Object(u.d)(s.TextureLoader,_.a),t=Object(u.e)(),a=t.gl,r=t.scene,o=t.camera,i=t.size,l=Object(u.d)(C.i),c=Object(n.useMemo)((function(){var t=new C.d(a);t.addPass(new C.g(r,o));var n=Object(k.a)(C.h,Object(x.a)(l));n.colorEdgesMaterial.setEdgeDetectionThreshold(.1);var i=new C.j({blendFunction:C.a.COLOR_DODGE,texture:e});i.blendMode.opacity.value=.15;var c=new C.k({eskil:!1,offset:.35,darkness:.75}),m=new C.b({blendFunction:C.a.SCREEN,kernelSize:C.f.MEDIUM,luminanceThreshold:.1,height:600});m.blendMode.opacity.value=.2;var d=new C.c({focus:.009,dof:.002,aperture:.5,maxBlur:.01});t.addPass(new C.e(o,d));var s=new C.e(o,i,n,m,c);return s.renderToScreen=!0,t.addPass(s),t}),[]);return Object(n.useEffect)((function(){c.setSize(i.width,i.height)}),[i]),Object(u.c)((function(e,t){return c.render(t)}),1)}C.i.prototype.load=function(e,t){return R.bind(this)(t)},Object(u.b)({OrbitControls:g.a});var D=function(e){var t=Object(u.e)(),a=t.camera,o=t.gl,i=Object(n.useRef)();return Object(u.c)((function(){return i.current.update()})),r.a.createElement("orbitControls",Object.assign({ref:i,target:[-1.0112384843663136,.06762010421780972,-.6420848982973388]},e,{args:[a,o.domElement]}))},B=function(){return r.a.createElement(E.b.Consumer,null,(function(e){var t=e.store;return r.a.createElement(u.a,{style:{height:"100vh",width:"100vw",overflow:"hidden",outline:"none",border:"none"},concurrent:!0,pixelRatio:window.devicePixelRatio,camera:{position:[-.703155642813053,.06158084870789878,-.7431460650269648],near:.01,far:20},gl:{antialias:!1},onCreated:function(e){var t=e.gl;t.setClearColor("black"),t.toneMapping=s.ACESFilmicToneMapping,t.outputEncoding=s.sRGBEncoding,t.toneMappingExposure=.7}},r.a.createElement(E.a,{store:t},r.a.createElement(D,{enableDamping:!0,enableZoom:!0,enablePan:!0,dampingFactor:.05,rotateSpeed:1.1}),r.a.createElement(p,null),r.a.createElement(n.Suspense,{fallback:null},r.a.createElement(z,null),r.a.createElement(v,null),r.a.createElement(W,null),r.a.createElement(T,null))))}))},A=(a(64),function(e){return(1e-6*e).toFixed(2)}),G=Object(E.c)((function(e){return{loadingTotalSize:e.loader.loadingTotalSize,loadingLoadedSize:e.loader.loadingLoadedSize,loadingProgress:e.loader.loadingProgress}}))(r.a.memo((function(e){var t=e.loadingTotalSize,a=e.loadingLoadedSize,n=e.loadingProgress;return r.a.createElement("div",{id:"loadingWindowContener"},r.a.createElement("div",{id:"centeringCage"},r.a.createElement("div",{id:"wait"},"please wait..."),r.a.createElement("div",{id:"infoText"},"Loading 3D assets"),r.a.createElement("div",{id:"loadbarCage"},r.a.createElement("div",{id:"loadbarPtogress",style:{width:n+"%"}})),r.a.createElement("div",{id:"loadingSize"},A(t)," / ",A(a)," ","MB")))}))),q=a(50),I=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={displayLoadingWindow:!0},e}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(){var e=this;this.props.loadingFnished&&setTimeout((function(){e.setState({displayLoadingWindow:!1})}),1e3)}},{key:"render",value:function(){var e=this.props.loadingFnished;return r.a.createElement("div",{className:"App"},r.a.createElement(B,null),this.state.displayLoadingWindow?e?r.a.createElement(q.Spring,{from:{opacity:1},to:{opacity:0},duration:1e3},(function(e){return r.a.createElement("div",{style:e},r.a.createElement(G,null))})):r.a.createElement(G,null):null)}}]),a}(n.Component),U=Object(E.c)((function(e){return{loadingFnished:e.loader.loadingFnished,displayWindow:e.loader.displayWindow}}))(r.a.memo(I));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J=a(24),N=a(21),H={loadingFnished:!1,loadingTotalSize:0,loadingLoadedSize:0,loadingProgress:0},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LoadingSceneFinished":return Object(N.a)(Object(N.a)({},e),{},{loadingFnished:!0});case"LoadingSceneProgress":var a=t.loadedSize/t.totalSize*100;return Object(N.a)(Object(N.a)({},e),{},{loadingTotalSize:t.totalSize,loadingLoadedSize:t.loadedSize,loadingProgress:1*a.toFixed(1)});default:return Object(N.a)({},e)}},$=Object(J.b)({loader:Z}),K=Object(J.c)($);i.a.render(r.a.createElement(E.a,{store:K},r.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[51,1,2]]]);
//# sourceMappingURL=main.984d14c2.chunk.js.map